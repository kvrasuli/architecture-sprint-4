### Проблемы

- Неисполнение заказа на ювелирное изделие в срок
- Внешние заказы через API также не исполняются в срок
- UI с заказами долго загружается, потенциально UI интернет-магазина может начать тормозить,
если желающих заказать изделие из каталога станет много
- API MES - это сторонний сервис в составе системы, приобретенный на стороне, менять API возможно будет затруднительно
- Нет информации о системах логирования, трейсинга, мониторинга, придется считать, что их либо нет, либо их они в зачаточном состоянии
- Также сложно точно определить максимально допустимую нагрузку, для этого нужно нагрузочное тестирование и мониторинг
предсказывать ее заранее до доработок можно, зная параметры инфраструктуры и текущую архитектуру, но система уже не держит текущую нагрузку
- Если рассматривать систему как микросервисную, нужен анализ на тему, не слишком ли крупны микросервисы,
возможно стоит вынести из Shop API, СRM API, MES API какие то компоненты, чтобы, например, отдельно их масштабировать + нарушается
паттерн Database per Service
- не используются Rate Limiter и Сircuit Breaker, паттерны отказоустойчивости

### Почему есть проблемы

Самая главная проблема - задержка с выполнением заказов, хотя производство имеет х2 запас

- MES не справляется с обсчетом стоимости заказов
- из описания кейсов следует, что внешние заказы не производство идут создаваться в CRM через очередь, что может ее забивать
- продавец, который использует интерфейс, вручную подтверждает заказы, что может быть медленно
- операторы пытаются получить самые последние заказы (постоянно жмут F5 на дашборде)

### инициативы

- Обсчет стоимости - это cpu bound задача, при неправильном подходе может убить всю производительность MES.
Неизвестно как устроен сервис, но вычислительных ресурсов не хватает. Нужно вынести из сервиса процесс обсчета и распределить 
по воркерам в отдельных процессах, и масштабировать по мере необходимости, хотя это внешний купленный софт, и это может быть сложно и дорого сделать
- Автоматизировать назначение заказов в производство, убрав человеческий фактор (но оставить возможно ручной корректировки)
- Запретить операторам пытаться получить самый новый заказ, а выдавать список доступных заказов, например, раз в день (можно закешировать) причем
не показывать им дату создания, и выдавать в приоритете самые старые заказы вместо новых
- Не сохранять внешние заказы в shop db через очередь, хранить внешние заказы отдельно и в админке сделать к ним доступ из mes,
а через очередь сделать только обмен статусами
- в будущем можно добавить кеш для списка товаров в интернет магазине, т.к. он нечасто меняется
- добавить кэширование для списка заказов на изготовление
- в будущем подумать над переходом на собственную MES для большей гибкости при доработках (но это внешнее апи, надо
будет поддерживать 2 версии API, старую, которая уже используется, и новую)
- подумать над дроблением сервисов с использованием отдельных БД (database per service)


### инициативы по приоритету

- в первую очередь надо разобраться с производительностью MES (разработчику выяснить в чем проблема, сделать профайлинг,
девопсу настроить доп инфраструктуру, если будет нужна), затем автоматизировать работу продавцов в crm

- через полгода сделать доработки по остальным пунктам
